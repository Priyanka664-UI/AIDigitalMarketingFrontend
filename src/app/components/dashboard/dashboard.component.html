<div class="app-container">
  <!-- Sidebar Navigation -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo-icon">
        <iconify-icon icon="lucide:brain-circuit" style="font-size: 20px; color: white"></iconify-icon>
      </div>
      <div class="logo-text">MarketMind AI</div>
    </div>

    <nav class="nav-menu">
      <button class="nav-item" [class.active]="activeTab === 'dashboard'" (click)="activeTab = 'dashboard'">
        <div class="icon-container">
          <iconify-icon icon="lucide:layout-dashboard" style="font-size: 18px"></iconify-icon>
        </div>
        Dashboard
      </button>
<<<<<<< HEAD
      <button class="nav-item" [class.active]="activeTab === 'content'" (click)="activeTab = 'content'">
        <div class="icon-container">
          <iconify-icon icon="lucide:sparkles" style="font-size: 18px"></iconify-icon>
        </div>
        Content Generator
=======
      <button class="nav-btn" [class.active]="activeTab === 'content'" routerLink="/content-management">
        <span class="icon">ğŸ“</span>
        <span>Content Manager</span>
>>>>>>> ddf7a41105bd73a8b47b15a2744f2d421b3f4882
      </button>
      <button class="nav-item" (click)="activeTab = 'calendar'">
        <div class="icon-container">
          <iconify-icon icon="lucide:calendar-days" style="font-size: 18px"></iconify-icon>
        </div>
        Calendar
      </button>
      <button class="nav-item" [class.active]="activeTab === 'analytics'" (click)="activeTab = 'analytics'">
        <div class="icon-container">
          <iconify-icon icon="lucide:bar-chart-3" style="font-size: 18px"></iconify-icon>
        </div>
        Analytics
      </button>
      <button class="nav-item" (click)="activeTab = 'integrations'">
        <div class="icon-container">
          <iconify-icon icon="lucide:cable" style="font-size: 18px"></iconify-icon>
        </div>
        Integrations
      </button>
      <button class="nav-item" [class.active]="activeTab === 'settings'" (click)="activeTab = 'settings'">
        <div class="icon-container">
          <iconify-icon icon="lucide:settings" style="font-size: 18px"></iconify-icon>
        </div>
        Settings
      </button>
    </nav>

    <div class="sidebar-footer">
      <div class="user-profile" (click)="logout()">
        <div class="user-avatar-initials">{{ business?.businessName?.charAt(0) || 'U' }}</div>
        <div class="user-details">
          <div class="user-name">{{ business?.businessName }}</div>
          <span class="user-plan">{{ business?.tier || 'Pro Plan' }}</span>
        </div>
        <div
          style="margin-left: auto; width: 16px; height: 16px; display: flex; align-items: center; justify-content: center;">
          <iconify-icon icon="lucide:log-out" style="font-size: 16px; color: var(--muted-foreground)"></iconify-icon>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content Area -->
  <main class="main-content">
    <!-- Top Header -->
    <header class="header">
      <div>
        <h1 class="header-title">Welcome back, {{ getFirstName() }} ğŸ‘‹</h1>
        <p class="header-subtitle">Here's what's happening with your marketing campaigns today.</p>
      </div>
      <div class="header-actions">
        <button class="btn-icon">
          <iconify-icon icon="lucide:bell" style="font-size: 20px"></iconify-icon>
        </button>
        <button class="btn btn-primary" (click)="showCreateCampaign = true">
          <iconify-icon icon="lucide:plus" style="font-size: 16px; color: white"></iconify-icon>
          New Campaign
        </button>
      </div>
    </header>

    <!-- Dashboard View -->
    <div *ngIf="activeTab === 'dashboard'">
      <!-- Stats Grid -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-title">Total Posts Generated</span>
            <div class="stat-icon">
              <iconify-icon icon="lucide:file-text" style="font-size: 18px"></iconify-icon>
            </div>
          </div>
          <div class="stat-value">{{ dashboardStats.totalPosts }}</div>
          <div class="stat-trend">
            <iconify-icon icon="lucide:trending-up" style="font-size: 14px" class="trend-up"></iconify-icon>
            <span class="trend-up">{{ dashboardStats.postsTrend }}</span>
            <span style="color: var(--muted-foreground)">from last month</span>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-title">Avg. Engagement Rate</span>
            <div class="stat-icon">
              <iconify-icon icon="lucide:activity" style="font-size: 18px"></iconify-icon>
            </div>
          </div>
          <div class="stat-value">{{ dashboardStats.avgEngagementRate }}%</div>
          <div class="stat-trend">
            <iconify-icon icon="lucide:trending-up" style="font-size: 14px" class="trend-up"></iconify-icon>
            <span class="trend-up">{{ dashboardStats.engagementTrend }}</span>
            <span style="color: var(--muted-foreground)">from last month</span>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-title">Total Reach</span>
            <div class="stat-icon">
              <iconify-icon icon="lucide:share-2" style="font-size: 18px"></iconify-icon>
            </div>
          </div>
          <div class="stat-value">{{ dashboardStats.totalReach }}</div>
          <div class="stat-trend">
            <iconify-icon icon="lucide:minus" style="font-size: 14px" class="trend-neutral"></iconify-icon>
            <span class="trend-neutral">No change</span>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-title">AI Credits Remaining</span>
            <div class="stat-icon">
              <iconify-icon icon="lucide:zap" style="font-size: 18px"></iconify-icon>
            </div>
          </div>
          <div class="stat-value">{{ dashboardStats.aiCredits }}</div>
          <div class="stat-trend">
            <span style="color: var(--muted-foreground)">Resets in {{ dashboardStats.creditsResetDays }} days</span>
          </div>
        </div>
      </div>

      <!-- Main Dashboard Grid -->
      <div class="dashboard-grid">
        <div style="display: flex; flex-direction: column; gap: 24px">
          <!-- AI Quick Generate Banner -->
          <div class="generate-banner">
            <h2 class="generate-title">Create your next viral post</h2>
            <p class="generate-subtitle">Describe your topic, select platforms, and let AI do the heavy lifting.</p>
            <div class="generate-input-group">
              <div style="padding-left: 8px; display: flex; align-items: center;">
                <iconify-icon icon="lucide:sparkles"
                  style="font-size: 20px; color: rgba(255, 255, 255, 0.7)"></iconify-icon>
              </div>
              <input type="text" class="generate-input" placeholder="E.g., A post about our new summer coffee blend..."
                [(ngModel)]="imagePrompt" />
              <button class="generate-btn" (click)="generateAIContent()">
                Generate
                <iconify-icon icon="lucide:arrow-right" style="font-size: 16px"></iconify-icon>
              </button>
            </div>
          </div>

          <!-- Audience Reach Chart Mockup -->
          <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
              <h3 class="card-title" style="margin-bottom: 0">Audience Reach</h3>
              <button class="btn btn-secondary" style="padding: 6px 12px; font-size: 13px">
                Last 7 Days
                <iconify-icon icon="lucide:chevron-down" style="font-size: 14px"></iconify-icon>
              </button>
            </div>
            <div class="chart-container" *ngIf="engagementAnalytics">
              <div *ngFor="let val of engagementAnalytics.reachGraph; let i = index" class="chart-bar"
                [class.primary]="i === 3 || i === 6" [style.height.%]="(val / 3000) * 100"></div>
            </div>
            <div class="chart-container" *ngIf="!engagementAnalytics">
              <div class="chart-bar" style="height: 40%"></div>
              <div class="chart-bar" style="height: 55%"></div>
              <div class="chart-bar" style="height: 45%"></div>
              <div class="chart-bar primary" style="height: 80%"></div>
              <div class="chart-bar" style="height: 60%"></div>
              <div class="chart-bar" style="height: 65%"></div>
              <div class="chart-bar primary" style="height: 90%"></div>
            </div>
            <div class="chart-labels">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
            </div>
          </div>
        </div>

        <div style="display: flex; flex-direction: column; gap: 24px">
          <!-- Recent Activity -->
          <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
              <h3 class="card-title" style="margin-bottom: 0">Recent Activity</h3>
              <a href="#" style="color: var(--primary); text-decoration: none; font-size: 13px; font-weight: 500;"
                (click)="activeTab = 'calendar'">View all</a>
            </div>

            <div class="activity-list">
              <div *ngFor="let post of posts | slice:0:3" class="activity-item">
                <img
                  [src]="post.imageUrl || 'https://images.unsplash.com/photo-1550547660-d9450f859349?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80'"
                  alt="Post thumbnail" class="activity-img" />
                <div class="activity-content">
                  <div class="activity-header">
                    <div class="activity-platform">
                      <iconify-icon
                        [icon]="post.platform === 'INSTAGRAM' ? 'lucide:instagram' : post.platform === 'FACEBOOK' ? 'lucide:facebook' : 'lucide:linkedin'"
                        style="font-size: 14px"></iconify-icon>
                      {{ post.platform }}
                    </div>
                    <span class="badge" [ngClass]="post.status.toLowerCase()">{{ post.status }}</span>
                  </div>
                  <p class="activity-text">{{ post.caption }}</p>
                  <div class="activity-meta">
                    <span>{{ post.scheduledTime | date:'short' }}</span>
                  </div>
                </div>
              </div>
              <div *ngIf="posts.length === 0"
                style="text-align: center; color: var(--muted-foreground); padding: 20px;">
                No recent activity.
              </div>
            </div>
          </div>

          <!-- Active Integrations -->
          <div class="card">
            <h3 class="card-title">Active Integrations</h3>
            <div class="integration-list">
              <div *ngFor="let platform of platformStatus" class="integration-item">
                <div class="integration-info">
                  <div class="integration-icon">
                    <iconify-icon [icon]="platform.icon" style="font-size: 18px"></iconify-icon>
                  </div>
                  <span class="integration-name">{{ platform.name }}</span>
                </div>
                <div class="integration-status" [class.disconnected]="!platform.connected">
                  <div class="status-dot" [class.disconnected]="!platform.connected"></div>
                  {{ platform.connected ? 'Connected' : 'Disconnected' }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

<<<<<<< HEAD
    <!-- Content Generator View -->
    <div *ngIf="activeTab === 'content'" class="ai-sections">
      <div class="ai-card">
        <h3>ğŸ¤– AI Content Generator</h3>
        <div class="ai-options">
          <select class="ai-select" [(ngModel)]="aiContentConfig.days">
            <option [value]="7">Generate 7 Day Calendar</option>
            <option [value]="30">Generate 30 Day Calendar</option>
          </select>
          <select class="ai-select" [(ngModel)]="aiContentConfig.tone">
            <option>Professional</option>
            <option>Friendly</option>
            <option>Luxury</option>
            <option>Casual</option>
          </select>
          <select class="ai-select" [(ngModel)]="aiContentConfig.platform">
            <option>INSTAGRAM</option>
            <option>FACEBOOK</option>
            <option>LINKEDIN</option>
            <option>WHATSAPP</option>
          </select>
          <button class="btn btn-primary" (click)="generateAIContent()">âœ¨ Generate Content</button>
=======
  <div class="content grid-layout" *ngIf="activeTab === 'content'">
    <aside class="sidebar">
      <div class="sidebar-header">
        <h3>Content Management</h3>
      </div>
      
      <div class="sub-nav">
        <button class="sub-nav-btn" [class.active]="contentSubTab === 'calendar'" (click)="contentSubTab = 'calendar'">
          ğŸ“… Content Calendar
        </button>
        <button class="sub-nav-btn" [class.active]="contentSubTab === 'library'" (click)="contentSubTab = 'library'">
          ğŸ“š Content Library
        </button>
        <button class="sub-nav-btn" [class.active]="contentSubTab === 'drafts'" (click)="contentSubTab = 'drafts'">
          ğŸ“ Draft Manager
        </button>
      </div>
    </aside>

    <main class="main-content">
      <!-- Content Calendar -->
      <div *ngIf="contentSubTab === 'calendar'">
        <h2>ğŸ“… Content Calendar</h2>
        <div class="view-toggle">
          <button class="toggle-btn" [class.active]="calendarView === 'monthly'" (click)="calendarView = 'monthly'">Monthly View</button>
          <button class="toggle-btn" [class.active]="calendarView === 'weekly'" (click)="calendarView = 'weekly'">Weekly View</button>
        </div>
        <div class="calendar-placeholder">
          <p>Calendar view with drag & drop rescheduling</p>
          <p>Status: Draft / Scheduled / Posted</p>
        </div>
      </div>

      <!-- Content Library -->
      <div *ngIf="contentSubTab === 'library'">
        <h2>ğŸ“š Content Library</h2>
        <div class="library-sections">
          <div class="library-card">ğŸ“„ Saved Posts</div>
          <div class="library-card">ğŸ¤– AI Generated Posts</div>
          <div class="library-card">ğŸ–¼ï¸ Uploaded Media</div>
          <div class="library-card">#ï¸âƒ£ Hashtag Collections</div>
        </div>
      </div>

      <!-- Draft Manager -->
      <div *ngIf="contentSubTab === 'drafts'">
        <h2>ğŸ“ Draft Manager</h2>
        <div class="draft-actions">
          <button class="action-btn">âœï¸ Edit Caption</button>
          <button class="action-btn">#ï¸âƒ£ Edit Hashtags</button>
          <button class="action-btn">ğŸ”„ Regenerate with AI</button>
          <button class="action-btn">ğŸ‘ï¸ Preview Post</button>
        </div>
      </div>
    </main>
  </div>

  <div class="content" *ngIf="activeTab === 'ai'">
    <div class="ai-sections">
      <!-- AI Content Generator -->
      <div class="ai-card">
        <h3>ğŸ§  AI Content Generator</h3>
        <form class="ai-form">
          <div class="form-group">
            <label>Product Name</label>
            <input type="text" [(ngModel)]="contentRequest.productName" name="productName" [ngModelOptions]="{standalone: true}" placeholder="Enter product/service name">
          </div>
          <div class="form-group">
            <label>Target Audience</label>
            <input type="text" [(ngModel)]="contentRequest.targetAudience" name="targetAudience" [ngModelOptions]="{standalone: true}" placeholder="e.g., Young professionals, 25-35">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Tone</label>
              <select [(ngModel)]="contentRequest.tone" name="tone" [ngModelOptions]="{standalone: true}">
                <option value="PROFESSIONAL">Professional</option>
                <option value="FRIENDLY">Friendly</option>
                <option value="FUNNY">Funny</option>
              </select>
            </div>
            <div class="form-group">
              <label>Goal</label>
              <select [(ngModel)]="contentRequest.goal" name="goal" [ngModelOptions]="{standalone: true}">
                <option value="SALES">Sales</option>
                <option value="AWARENESS">Awareness</option>
                <option value="ENGAGEMENT">Engagement</option>
              </select>
            </div>
            <div class="form-group">
              <label>Platform</label>
              <select [(ngModel)]="contentRequest.platform" name="platform" [ngModelOptions]="{standalone: true}">
                <option value="INSTAGRAM">Instagram</option>
                <option value="FACEBOOK">Facebook</option>
                <option value="LINKEDIN">LinkedIn</option>
                <option value="WHATSAPP">WhatsApp</option>
              </select>
            </div>
          </div>
          <button type="button" class="action-btn" (click)="generateAIContentForm()" [disabled]="loading">
            {{ loading ? 'â³ Generating...' : 'âœ¨ Generate Content' }}
          </button>
        </form>
        
        <div *ngIf="generatedContent" class="results" style="margin-top: 20px;">
          <div class="result-section" style="margin-bottom: 20px;">
            <h4>ğŸ“ Captions</h4>
            <div *ngFor="let caption of generatedContent.captions" style="padding: 10px; background: #f5f7fa; border-radius: 8px; margin-bottom: 10px;">
              <p>{{ caption }}</p>
              <button class="option-btn" (click)="useCaption(caption)">Use This</button>
            </div>
          </div>
          <div class="result-section" style="margin-bottom: 20px;">
            <h4>#ï¸âƒ£ Hashtags</h4>
            <div style="padding: 10px; background: #f5f7fa; border-radius: 8px;">
              <span *ngFor="let tag of generatedContent.hashtags" style="margin-right: 8px; color: #2563eb;">{{ tag }}</span>
            </div>
            <button class="option-btn" (click)="useHashtags(generatedContent.hashtags)" style="margin-top: 10px;">Use All</button>
          </div>
          <div class="result-section" *ngIf="generatedContent.postIdeas">
            <h4>ğŸ’¡ Post Ideas</h4>
            <ul style="padding-left: 20px;">
              <li *ngFor="let idea of generatedContent.postIdeas" style="margin-bottom: 8px;">{{ idea }}</li>
            </ul>
          </div>
          <div class="result-section" *ngIf="generatedContent.contentCalendar">
            <h4>ğŸ“… Content Calendar</h4>
            <div *ngFor="let item of generatedContent.contentCalendar" style="padding: 10px; background: #f5f7fa; border-radius: 8px; margin-bottom: 10px;">
              <strong>{{ item.day }} - {{ item.postType }}</strong>
              <p>{{ item.caption }}</p>
              <small>{{ item.hashtags }}</small>
            </div>
          </div>
>>>>>>> ddf7a41105bd73a8b47b15a2744f2d421b3f4882
        </div>
      </div>

      <!-- Creative Generator -->
      <div class="ai-card">
        <h3>ğŸ¨ Creative Generator</h3>
        <form class="ai-form">
          <div class="form-group">
            <label>Design Type</label>
            <select [(ngModel)]="creativeRequest.designType" name="designType" [ngModelOptions]="{standalone: true}">
              <option value="POSTER">Poster</option>
              <option value="CAROUSEL">Carousel</option>
              <option value="AD_BANNER">Ad Banner</option>
            </select>
          </div>
          <div class="form-group">
            <label>Product Name</label>
            <input type="text" [(ngModel)]="creativeRequest.productName" name="productName2" [ngModelOptions]="{standalone: true}" placeholder="Enter product name">
          </div>
          <div class="form-group">
            <label>Tagline</label>
            <input type="text" [(ngModel)]="creativeRequest.tagline" name="tagline" [ngModelOptions]="{standalone: true}" placeholder="Enter tagline">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Color Scheme</label>
              <input type="text" [(ngModel)]="creativeRequest.colorScheme" name="colorScheme" [ngModelOptions]="{standalone: true}" placeholder="e.g., Blue & White">
            </div>
            <div class="form-group">
              <label>Style</label>
              <select [(ngModel)]="creativeRequest.style" name="style" [ngModelOptions]="{standalone: true}">
                <option value="MODERN">Modern</option>
                <option value="MINIMAL">Minimal</option>
                <option value="VIBRANT">Vibrant</option>
                <option value="ELEGANT">Elegant</option>
              </select>
            </div>
          </div>
          <button type="button" class="action-btn" (click)="generateCreativeForm()" [disabled]="loading">
            {{ loading ? 'â³ Generating...' : 'ğŸ¨ Generate Creative' }}
          </button>
        </form>
      </div>

      <!-- Post Scheduler -->
      <div class="ai-card">
        <h3>ğŸ“… Post Scheduler</h3>
        <form class="ai-form">
          <div class="form-group">
            <label>Campaign</label>
            <select [(ngModel)]="scheduleRequest.campaignId" name="campaignId" [ngModelOptions]="{standalone: true}" (change)="loadScheduledPosts()">
              <option [ngValue]="null">Select Campaign</option>
              <option *ngFor="let campaign of campaigns" [ngValue]="campaign.id">{{ campaign.name }}</option>
            </select>
          </div>
          <div class="form-group">
            <label>Platform</label>
            <select [(ngModel)]="scheduleRequest.platform" name="platform2" [ngModelOptions]="{standalone: true}">
              <option value="INSTAGRAM">Instagram ğŸ“·</option>
              <option value="FACEBOOK">Facebook ğŸ‘¥</option>
              <option value="LINKEDIN">LinkedIn ğŸ’¼</option>
              <option value="WHATSAPP">WhatsApp ğŸ’¬</option>
            </select>
          </div>
          <div class="form-group">
            <label>Caption</label>
            <textarea rows="4" [(ngModel)]="scheduleRequest.caption" name="caption" [ngModelOptions]="{standalone: true}" placeholder="Enter caption"></textarea>
          </div>
          <div class="form-group">
            <label>Hashtags</label>
            <input type="text" [(ngModel)]="scheduleRequest.hashtags" name="hashtags" [ngModelOptions]="{standalone: true}" placeholder="#example #hashtags">
          </div>
          <div class="form-group">
            <label>Image URL</label>
            <input type="text" [(ngModel)]="scheduleRequest.imageUrl" name="imageUrl" [ngModelOptions]="{standalone: true}" placeholder="https://...">
          </div>
          <div class="form-group">
            <label>Schedule Date & Time</label>
            <input type="datetime-local" [(ngModel)]="scheduleRequest.scheduledTime" name="scheduledTime" [ngModelOptions]="{standalone: true}">
          </div>
          <button type="button" class="action-btn" (click)="schedulePost()" [disabled]="loading || !scheduleRequest.campaignId">
            {{ loading ? 'â³ Scheduling...' : 'ğŸ“… Schedule Post' }}
          </button>
        </form>
      </div>

      <!-- AI Image Generator -->
      <div class="ai-card">
        <h3>ğŸ–¼ï¸ AI Image Generator</h3>
        <div class="ai-options">
<<<<<<< HEAD
          <textarea class="ai-input" rows="3"
            placeholder="Enter detailed image prompt (e.g., 'A modern coffee shop interior with warm lighting and cozy atmosphere')"
=======
          <textarea 
            class="ai-input" 
            rows="3" 
            placeholder="Enter detailed image prompt (e.g., 'A modern coffee shop interior with warm lighting and cozy atmosphere')" 
>>>>>>> ddf7a41105bd73a8b47b15a2744f2d421b3f4882
            [(ngModel)]="imagePrompt"></textarea>
          <button class="btn btn-primary" (click)="generateAIImage()" [disabled]="isGeneratingImage">
            {{ isGeneratingImage ? 'â³ Generating...' : 'âœ¨ Generate Image' }}
          </button>
          <div *ngIf="generatedImage" class="generated-image-container">
            <h4>Generated Image:</h4>
            <img [src]="generatedImage" [alt]="imagePrompt" class="generated-image" (error)="onImageError($event)">
            <p class="image-prompt">Prompt: "{{ imagePrompt }}"</p>
            <div class="image-actions">
              <button class="option-btn" (click)="downloadImage()">ğŸ’¾ Download</button>
              <button class="option-btn" (click)="saveToLibrary()">ğŸ“š Save to Library</button>
              <button class="option-btn" (click)="copyImageUrl()">ğŸ”— Copy URL</button>
            </div>
          </div>
        </div>
      </div>

      <!-- AI Insights -->
      <div class="ai-card">
        <h3>ğŸ’¡ AI Insights</h3>
        <div class="insights-list" *ngIf="aiInsights">
          <div class="insight-item">ğŸ“Š Best Performing: {{ aiInsights.bestContentType }}</div>
          <div class="insight-item">â° Best Time: {{ aiInsights.bestPostingTime }}</div>
          <div class="insight-item">ğŸ’¡ Suggested: {{ aiInsights.suggestedCampaigns?.join(', ') }}</div>
          <div class="insight-item">ğŸ”¥ Trending: {{ aiInsights.trendingTopics?.join(' ') }}</div>
        </div>
<<<<<<< HEAD
        <button class="btn btn-secondary" style="margin-top: 20px; width: 100%;" (click)="loadAIInsights()">ğŸ”„ Refresh
          Insights</button>
=======
        <button class="action-btn">ğŸ”„ Refresh Insights</button>
>>>>>>> ddf7a41105bd73a8b47b15a2744f2d421b3f4882
      </div>
    </div>

    <!-- Analytics View -->
    <div *ngIf="activeTab === 'analytics'" class="analytics-sections">
      <div class="analytics-card">
        <h3>ğŸ“ˆ Engagement Analytics</h3>
        <div class="analytics-items" *ngIf="engagementAnalytics">
          <div class="analytics-item">
            <span class="item-label">ğŸ“Š Peak Reach</span>
            <span class="item-value">{{ engagementAnalytics.reachGraph[engagementAnalytics.reachGraph.length - 1] |
              number }}</span>
          </div>
          <div class="analytics-item">
            <span class="item-label">â¤ï¸ Total Likes</span>
            <span class="item-value">{{ engagementAnalytics.totalLikes | number }}</span>
          </div>
          <div class="analytics-item">
            <span class="item-label">ğŸ’¬ Comments</span>
            <span class="item-value">{{ engagementAnalytics.totalComments | number }}</span>
          </div>
          <div class="analytics-item">
            <span class="item-label">ğŸ”— Avg. CTR</span>
            <span class="item-value">{{ engagementAnalytics.clickThroughRate }}%</span>
          </div>
        </div>
      </div>

      <div class="analytics-card">
        <h3>âš–ï¸ Platform Comparison</h3>
        <div class="analytics-items" *ngIf="platformComparison">
          <div class="platform-stats" *ngFor="let platform of ['instagram', 'facebook']">
            <h4 style="margin: 10px 0 5px 0; font-size: 14px; text-transform: capitalize;">{{ platform }}</h4>
            <div class="analytics-item">
              <span class="item-label">Posts:</span> {{ platformComparison.platforms[platform]?.posts }}
            </div>
            <div class="analytics-item">
              <span class="item-label">Reach:</span> {{ platformComparison.platforms[platform]?.reach | number }}
            </div>
          </div>
          <div class="analytics-item" style="margin-top: 15px; border-top: 1px solid var(--border); padding-top: 10px;">
            <span class="item-label">ğŸ“ˆ Top Content:</span> Images ({{ platformComparison.contentTypePerformance.images
            }}%)
          </div>
        </div>
      </div>

      <div class="analytics-card">
        <h3>ğŸ“„ Reports</h3>
        <div class="report-info" *ngIf="monthlyReport" style="margin-bottom: 20px;">
          <p><strong>Current Report:</strong> {{ monthlyReport.month }}</p>
          <p>Reach for this month showed a {{ (monthlyReport.totalReach / 100000) * 10 | number:'1.0-1' }}% increase.
          </p>
        </div>
        <div class="report-actions">
          <button class="btn btn-secondary" (click)="downloadImage()">ğŸ“¥ Download Monthly Report</button>
          <button class="btn btn-secondary">ğŸ“Š Export CSV</button>
        </div>
      </div>
    </div>

    <!-- Calendar View -->
    <div *ngIf="activeTab === 'calendar'">
      <app-calendar></app-calendar>
    </div>

    <!-- Other PlaceHolders -->
    <div *ngIf="activeTab === 'integrations'" class="card">
      <h3 class="card-title">ğŸ§© Integrations</h3>
      <p>Manage your social media connections here.</p>
    </div>

    <div *ngIf="activeTab === 'settings'" class="card">
      <h3 class="card-title">âš™ï¸ Settings</h3>
      <p>Configure your account and business settings.</p>
    </div>

  </main>
</div>

<!-- Create Campaign Modal -->
<div class="modal" *ngIf="showCreateCampaign" (click)="showCreateCampaign = false">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>Create New Campaign</h2>
    <form (ngSubmit)="createCampaign()">
      <div class="form-group">
        <label>Campaign Name</label>
        <input type="text" [(ngModel)]="newCampaign.name" name="name" required>
      </div>
      <div class="form-group">
        <label>Start Date</label>
        <input type="date" [(ngModel)]="newCampaign.startDate" name="startDate" required>
      </div>
      <div class="form-group">
        <label>End Date</label>
        <input type="date" [(ngModel)]="newCampaign.endDate" name="endDate" required>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn btn-secondary" (click)="showCreateCampaign = false">Cancel</button>
        <button type="submit" class="btn btn-primary">Create Campaign</button>
      </div>
    </form>
  </div>
</div>